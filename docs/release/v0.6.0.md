# Release v0.6.0

**Release Date:** 2026-01-15

## Highlights

This release introduces the `/trellis.pr` command for creating pull requests directly from Claude Code, and enhances `/trellis.release` to automatically create PRs when needed. Together, these changes streamline the complete development workflow from commit to release.

## What's New

### `/trellis.pr` Command

A new command for creating pull requests with full workflow support:

- **Branch validation** - Ensures you're on a feature branch, not main/master
- **Uncommitted changes handling** - Prompts to commit changes before creating PR
- **Beads integration** - Syncs with beads and includes related issues in PR description
- **Draft PR support** - Add "draft" to arguments to create a draft PR
- **Smart state handling** - Handles existing PRs (open, closed, merged) with appropriate guidance

### Enhanced `/trellis.release`

- **Auto-creates PR** - No longer stops with "create a PR first" error
- **Streamlined workflow** - Handles uncommitted changes and pushes automatically
- **Consistent templates** - Uses the same PR template structure as `/trellis.pr`

### Workflow Documentation

New workflow diagram in CLAUDE.md showing the typical development flow:

```
/trellis.push → /trellis.pr → /trellis.release
```

## Bug Fixes

- Added explicit STOP conditions for `gh pr create` failures
- Added push failure handling in `/trellis.release` auto-create flow
- Better distinction between "no PR exists" vs network/auth errors
- Detached HEAD state detection with clear user guidance
- Aligned force push warnings across all commands

## Breaking Changes

None.

## Upgrade Instructions

No migration required. Simply update to the latest version:

```bash
claude plugin update github:NorthShoreAutomation/trellis
```

Or if loading locally:

```bash
git pull origin main
```
